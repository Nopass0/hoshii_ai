# Технологический стек проекта

## Языки и фреймворки
- **TypeScript** - основной язык программирования
- **Node.js** - среда выполнения JavaScript
- **Bun** - JavaScript runtime и пакетный менеджер

## API и внешние сервисы
- **OpenRouter API** - API-мост для доступа к различным моделям LLM
  - Используемые модели:
    - `openai/gpt-4o` (по умолчанию) - с поддержкой Structured Outputs
    - Другие модели через переменную окружения `OPENROUTER_MODEL`
  - **Structured Outputs API** - официальный механизм для получения гарантированно структурированных JSON-ответов

## Библиотеки и пакеты
- **Zod** - библиотека валидации схем для проверки структурированных ответов
- **node-fetch / undici** - для HTTP запросов
- **openai** - SDK для взаимодействия с OpenAI/OpenRouter API
- **logger** - встроенный модуль для отладки и логирования

## Инструменты разработки
- **Typescript** - статическая типизация
- **npm/bun** - управление пакетами и зависимостями

## Переменные окружения
- `OPENROUTER_API_KEY` - API ключ для OpenRouter
- `OPENROUTER_MODEL` - (опционально) название используемой модели
- `DEBUG` - (опционально) включение режима отладки с подробным логированием

## Архитектурные паттерны и подходы
- **Модульная структура** - разделение функциональности на отдельные модули
- **Типобезопасность** - строгая типизация через TypeScript и Zod
- **Повторные попытки (retry logic)** - обработка ошибок с автоматическими повторными попытками
- **Ограничение частоты запросов (rate limiting)** - управление потоком запросов к API
- **Очереди (queuing)** - организация запросов в очередь для соблюдения ограничений API
